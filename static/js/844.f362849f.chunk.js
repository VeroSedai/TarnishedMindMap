/*! For license information please see 844.f362849f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_elden_ring_mind_map=self.webpackChunkreact_elden_ring_mind_map||[]).push([[844],{5575:(t,e,n)=>{n.d(e,{E:()=>i,a:()=>s,i:()=>o}),(0,n(4994).y)();var i={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},s=t=>function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return{_$litDirective$:t,values:n}},o=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this.t=t,this._$AM=e,this.i=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}},966:(t,e,n)=>{n.d(e,{j:()=>A});var i=n(5575),s=n(3999),o=n(4994);(0,o.y)(),(0,o.y)();var{I:l}=s.J,r=()=>document.createComment(""),a=(t,e,n)=>{var i;let s=t._$AA.parentNode,o=void 0===e?t._$AB:e._$AA;if(void 0===n){let e=s.insertBefore(r(),o),i=s.insertBefore(r(),o);n=new l(e,i,t,t.options)}else{let e=n._$AB.nextSibling,l=n._$AM,r=l!==t;if(r){let e;null==(i=n._$AQ)||i.call(n,t),n._$AM=t,void 0!==n._$AP&&(e=t._$AU)!==l._$AU&&n._$AP(e)}if(e!==o||r){let t=n._$AA;for(;t!==e;){let e=t.nextSibling;s.insertBefore(t,o),t=e}}}return n},u=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return t._$AI(e,n),t},d={},c=t=>{var e;null==(e=t._$AP)||e.call(t,!1,!0);let n=t._$AA,i=t._$AB.nextSibling;for(;n!==i;){let t=n.nextSibling;n.remove(),n=t}},h=(t,e,n)=>{let i=new Map;for(let s=e;s<=n;s++)i.set(t[s],s);return i},A=(0,i.a)(class extends i.i{constructor(t){if(super(t),t.type!==i.E.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,n){let i;void 0===n?n=e:void 0!==e&&(i=e);let s=[],o=[],l=0;for(let r of t)s[l]=i?i(r,l):l,o[l]=n(r,l),l++;return{values:o,keys:s}}render(t,e,n){return this.dt(t,e,n).values}update(t,e){let[n,i,o]=e;var l;let r=(t=>t._$AH)(t),{values:A,keys:v}=this.dt(n,i,o);if(!Array.isArray(r))return this.ut=v,A;let p,f,m=null!=(l=this.ut)?l:this.ut=[],$=[],y=0,_=r.length-1,E=0,g=A.length-1;for(;y<=_&&E<=g;)if(null===r[y])y++;else if(null===r[_])_--;else if(m[y]===v[E])$[E]=u(r[y],A[E]),y++,E++;else if(m[_]===v[g])$[g]=u(r[_],A[g]),_--,g--;else if(m[y]===v[g])$[g]=u(r[y],A[g]),a(t,$[g+1],r[y]),y++,g--;else if(m[_]===v[E])$[E]=u(r[_],A[E]),a(t,r[y],r[_]),_--,E++;else if(void 0===p&&(p=h(v,E,g),f=h(m,y,_)),p.has(m[y]))if(p.has(m[_])){let e=f.get(v[E]),n=void 0!==e?r[e]:null;if(null===n){let e=a(t,r[y]);u(e,A[E]),$[E]=e}else $[E]=u(n,A[E]),a(t,r[y],n),r[e]=null;E++}else c(r[_]),_--;else c(r[y]),y++;for(;E<=g;){let e=a(t,$[g+1]);u(e,A[E]),$[E++]=e}for(;y<=_;){let t=r[y++];null!==t&&c(t)}return this.ut=v,function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;t._$AH=e}(t,$),s.E}});(0,o.y)()},8844:(t,e,n)=>{n.r(e),n.d(e,{CommentsContent:()=>d});var i=n(966),s=n(4994),o=(n(5575),n(3504)),l=n(5555),r=n(3999);(0,s.y)();var a=(0,l.D)(r.a),u=[a.styles,o.a],d=class extends a{constructor(){super(),this.unselectAnnotation=()=>{this.selectedAnnotation=null},this.unselectAnnotationEsc=t=>{t&&"Escape"!==(null==t?void 0:t.key)||(this.selectedAnnotation=null)},this.selectAnnotation=t=>{let{detail:e}=t,{uuid:n}=e;this.selectedAnnotation!==n?this.selectedAnnotation=n:this.selectedAnnotation=null},this.checkLastAnnotation=t=>{var e,n;let i=this.annotations.filter((t=>t.resolved)),s=this.annotations.filter((t=>!t.resolved));return"All comments"===this.annotationFilter?t===(null==(e=i[i.length-1])?void 0:e.uuid):t===(null==(n=s[s.length-1])?void 0:n.uuid)},this.annotations=[],this.participantsList=[]}updated(t){super.updated(t),this.updateComplete.then((()=>{let t=this.shadowRoot.querySelector(`[uuid='${this.selectedAnnotation}']`);if(!t)return;let e=this.lastCommentId===this.selectedAnnotation,n=e?0:-150,i=t.getClientRects()[0];i&&(this.scrollBy(0,i.y+n),e&&setTimeout((()=>{this.scrollBy(0,i.y+n)}),200))}))}connectedCallback(){super.connectedCallback(),window.document.body.addEventListener("select-annotation",this.selectAnnotation),window.document.body.addEventListener("keyup",this.unselectAnnotationEsc),window.document.body.addEventListener("unselect-annotation",this.unselectAnnotation)}disconnectedCallback(){super.disconnectedCallback(),window.document.body.removeEventListener("select-annotation",this.selectAnnotation),window.document.body.removeEventListener("keyup",this.unselectAnnotationEsc),window.document.body.removeEventListener("unselect-annotation",this.unselectAnnotation)}render(){return r.V` ${(0,i.j)(this.annotations.filter((t=>{var e;return null==(e=t.comments)?void 0:e.length})),(t=>t.uuid),(t=>r.V`
        <superviz-comments-annotation-item
          annotation=${JSON.stringify(t)}
          selected="${this.selectedAnnotation}"
          annotationFilter=${this.annotationFilter}
          uuid=${t.uuid}
          ?resolved=${t.resolved}
          isLastComment=${this.checkLastAnnotation(t.uuid)}
          participantsList=${JSON.stringify(this.participantsList)}
        >
        </superviz-comments-annotation-item>
      `))}`}};d.styles=u,d.properties={annotations:{type:Object},selectedAnnotation:{type:String},annotationFilter:{type:String},participantsList:{type:Object}},d=(0,s.e)([(0,r.t)("superviz-comments-content")],d)}}]);
//# sourceMappingURL=844.f362849f.chunk.js.map